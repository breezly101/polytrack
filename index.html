<!DOCTYPE html>

<html>
	<head>
		<base href="http://127.0.0.1:5500/">
		<script>
			window.jkdfgnjkndfg = document.querySelector('base').href;
			fetch("simulation_worker.bundle.js").then(res => res.text()).then(text => {
				const blob = new Blob([text.replaceAll("replacethisplease", window.jkdfgnjkndfg)], { type: 'application/javascript' });
				window.simulationworker = URL.createObjectURL(blob);
			});
			const ogworker = window.Worker;
			window.Worker = function(scripturl, options) {
				if (typeof scripturl === 'string' && scripturl.toLowerCase() === "simulation_worker.bundle.js") {
					scripturl = window.simulationworker;
				}
				return new ogworker(scripturl, options);
			};
			window.Worker.prototype = ogworker.prototype;
		</script>
		<link rel="manifest" href="manifest.json" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
	</head>
	<body>
		<canvas id="screen"></canvas>
		<div id="ui"></div>
		<div id="transition-layer"></div>

		<script type="module" src="main.bundle.js" defer></script>
	</body>
</html>
